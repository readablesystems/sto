<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>cds: cds::backoff::delay&lt; Duration, Tag &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">cds
   &#160;<span id="projectnumber">2.1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="classes.html"><span>Data&#160;Structure&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classcds_1_1backoff_1_1delay.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a>  </div>
  <div class="headertitle">
<div class="title">cds::backoff::delay&lt; Duration, Tag &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Delay back-off strategy.  
 <a href="classcds_1_1backoff_1_1delay.html#details">More...</a></p>

<p><code>#include &lt;cds/algo/backoff_strategy.h&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:ac73f09cb2dad21caaea7a61abe36885c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac73f09cb2dad21caaea7a61abe36885c"></a>
typedef Duration&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1backoff_1_1delay.html#ac73f09cb2dad21caaea7a61abe36885c">duration_type</a></td></tr>
<tr class="memdesc:ac73f09cb2dad21caaea7a61abe36885c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Duration type (default <code>std::chrono::milliseconds</code>) <br /></td></tr>
<tr class="separator:ac73f09cb2dad21caaea7a61abe36885c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:af3c20687d3254c72674668d95f91d051"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af3c20687d3254c72674668d95f91d051"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1backoff_1_1delay.html#af3c20687d3254c72674668d95f91d051">delay</a> () noexcept()</td></tr>
<tr class="memdesc:af3c20687d3254c72674668d95f91d051"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default ctor takes the timeout from s_nTimeout. <br /></td></tr>
<tr class="separator:af3c20687d3254c72674668d95f91d051"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4eec785d9ec5c755f8b8abf836a00d6f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4eec785d9ec5c755f8b8abf836a00d6f"></a>
constexpr&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1backoff_1_1delay.html#a4eec785d9ec5c755f8b8abf836a00d6f">delay</a> (unsigned int nTimeout) noexcept()</td></tr>
<tr class="memdesc:a4eec785d9ec5c755f8b8abf836a00d6f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes timeout from <code>nTimeout</code>. <br /></td></tr>
<tr class="separator:a4eec785d9ec5c755f8b8abf836a00d6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:aca2b4db281aa9c7fa367729990349699"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aca2b4db281aa9c7fa367729990349699"></a>
static unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1backoff_1_1delay.html#aca2b4db281aa9c7fa367729990349699">s_nTimeout</a></td></tr>
<tr class="memdesc:aca2b4db281aa9c7fa367729990349699"><td class="mdescLeft">&#160;</td><td class="mdescRight">default timeout, =5 <br /></td></tr>
<tr class="separator:aca2b4db281aa9c7fa367729990349699"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;class Duration = std::chrono::milliseconds, typename Tag = void&gt;<br />
class cds::backoff::delay&lt; Duration, Tag &gt;</h3>

<p>Delay back-off strategy. </p>
<p>Template arguments:</p><ul>
<li><code>Duration</code> - duration type, default is <code>std::chrono::milliseconds</code> </li>
<li><code>Tag</code> - a selector tag</li>
</ul>
<p>Choosing the best value for th timeout is platform and task specific. In this implementation, the default values for timeout is statically declared so you can set its value globally for your platform. The second template argument, <code>Tag</code>, is used to separate implementation. For example, you may define two <code>delay</code> back-offs for 5 and 10 ms timeout: </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;cds/algo/backoff_strategy.h&gt;</span></div>
<div class="line"><span class="keyword">namespace </span>bkoff = <a class="code" href="namespacecds_1_1backoff.html">cds::backoff</a>;</div>
<div class="line"></div>
<div class="line"><span class="keyword">struct </span>ms5  ;   <span class="comment">// tag to select 5ms</span></div>
<div class="line"><span class="keyword">struct </span>ms10 ;   <span class="comment">// tag to select 10ms</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// // define your back-off specialization</span></div>
<div class="line"><span class="keyword">typedef</span> bkoff::delay&lt;std::chrono::milliseconds, ms5&gt; delay5;</div>
<div class="line"><span class="keyword">typedef</span> bkoff::delay&lt;std::chrono::milliseconds, ms10&gt; delay10;</div>
<div class="line"></div>
<div class="line"><span class="comment">// // set up the timeouts</span></div>
<div class="line">delay5::s_nTimeout = 5;</div>
<div class="line">delay10::s_nTimeout = 10;</div>
</div><!-- fragment --><p>Another way of solving this problem is subclassing <code>delay</code> back-off class: </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;cds/algo/backoff_strategy.h&gt;</span></div>
<div class="line"><span class="keyword">namespace </span>bkoff = <a class="code" href="namespacecds_1_1backoff.html">cds::backoff</a>;</div>
<div class="line"><span class="keyword">typedef</span> bkoff::delay&lt;&gt; delay_bkoff;</div>
<div class="line"></div>
<div class="line"><span class="keyword">class </span>delay5: <span class="keyword">public</span> delay_bkoff {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    delay5(): delay_bkoff( 5 ) {}</div>
<div class="line">};</div>
<div class="line"></div>
<div class="line"><span class="keyword">class </span>delay10: <span class="keyword">public</span> delay_bkoff {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    delay10(): delay_bkoff( 10 ) {}</div>
<div class="line">};</div>
</div><!-- fragment --> </div><hr/>The documentation for this class was generated from the following file:<ul>
<li>cds/algo/backoff_strategy.h</li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<hr/>
<div align="right">
  <b>cds</b> <b>2.1.0</b> 
  Developed by <i>Maxim Khizhinsky aka khizmax</i> 2007 - 2015
  <br/>
  <i>Autogenerated Wed Jan 6 2016 16:00:35 by Doxygen 1.8.10</i>
</div>
</body>
</html>
